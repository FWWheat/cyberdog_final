RGB相机
^Cmi@mi-desktop:~$ ros2 topic hz /image_rgb
average rate: 11.562
	min: 0.028s max: 0.253s std dev: 0.07064s window: 15
average rate: 13.930
	min: 0.025s max: 0.253s std dev: 0.06520s window: 33
average rate: 14.836
	min: 0.018s max: 0.253s std dev: 0.05945s window: 50
average rate: 15.455
	min: 0.018s max: 0.274s std dev: 0.06036s window: 68
average rate: 15.825
	min: 0.018s max: 0.274s std dev: 0.05774s window: 86
average rate: 16.996
	min: 0.018s max: 0.274s std dev: 0.05287s window: 111
average rate: 17.502
	min: 0.018s max: 0.274s std dev: 0.04973s window: 133
average rate: 17.942
	min: 0.018s max: 0.274s std dev: 0.04752s window: 155
average rate: 18.498
	min: 0.016s max: 0.274s std dev: 0.04541s window: 180
average rate: 18.261
	min: 0.016s max: 0.274s std dev: 0.04528s window: 196
average rate: 18.945
	min: 0.016s max: 0.274s std dev: 0.04324s window: 223
average rate: 18.871
	min: 0.016s max: 0.274s std dev: 0.04304s window: 241
average rate: 19.415
	min: 0.016s max: 0.274s std dev: 0.04146s window: 268
average rate: 19.114
	min: 0.016s max: 0.274s std dev: 0.04192s window: 283
^Cmi@mi-desktop:~$ 
 ros2 topic hz /image_rgb
WARNING: topic [/image_rgb] does not appear to be published yet
average rate: 6.817
	min: 0.016s max: 0.302s std dev: 0.08858s window: 8
average rate: 11.404
	min: 0.009s max: 0.302s std dev: 0.07656s window: 25
average rate: 10.561
	min: 0.009s max: 0.307s std dev: 0.08149s window: 34
 ros2 topic hz /image_rgb
average rate: 7.557
	min: 0.022s max: 0.830s std dev: 0.20766s window: 14
average rate: 7.908
	min: 0.022s max: 0.830s std dev: 0.18326s window: 23
average rate: 9.938
	min: 0.013s max: 0.830s std dev: 0.15168s window: 39
average rate: 8.782
	min: 0.013s max: 0.830s std dev: 0.15657s window: 46
average rate: 9.336
	min: 0.013s max: 0.830s std dev: 0.14739s window: 59
average rate: 9.233
	min: 0.013s max: 0.830s std dev: 0.13927s window: 68





AI相机
^Cmi@mi-desktop:~$ ros2 topic hz /mi_desktop_48_b0_2d_7b_03_d0/image
average rate: 29.636
	min: 0.007s max: 0.071s std dev: 0.01079s window: 31
average rate: 29.970
	min: 0.007s max: 0.071s std dev: 0.00918s window: 62
average rate: 29.980
	min: 0.007s max: 0.071s std dev: 0.00843s window: 93
average rate: 29.993
	min: 0.007s max: 0.071s std dev: 0.00812s window: 124
average rate: 30.070
	min: 0.007s max: 0.071s std dev: 0.00791s window: 155
average rate: 30.082
	min: 0.007s max: 0.071s std dev: 0.00757s window: 186
average rate: 30.054
	min: 0.007s max: 0.071s std dev: 0.00727s window: 216
average rate: 30.058
	min: 0.007s max: 0.071s std dev: 0.00728s window: 247
^Cmi@mi-desktop:~$ 




top

top - 12:56:44 up 5 min,  4 users,  load average: 17.73, 9.94, 4.50
Tasks: 361 total,   6 running, 355 sleeping,   0 stopped,   0 zombie
%Cpu(s): 38.7 us, 14.0 sy,  0.0 ni, 41.1 id,  0.7 wa,  3.0 hi,  2.6 si,  0.0 st
KiB Mem :  7956496 total,  4065004 free,  2524368 used,  1367124 buff/cache
KiB Swap:  3978240 total,  3978240 free,        0 used.  5224448 avail Mem 

  PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND     
13187 mi        20   0 11.641g 258324  76328 S  85.3  3.2   0:18.93 stereo_cam+ 
12967 mi        20   0 9887552 112848  62268 S  32.9  1.4   0:13.64 realsense2+ 
 8873 mi        20   0 1774720  50592  35564 S  19.2  0.6   1:08.87 sensor_man+ 
10961 mi        20   0  597048  62768  24576 S  15.3  0.8   0:37.75 python3     
 8677 root      20   0 1199792  73712  25020 S  15.0  0.9   0:43.41 cyberdog_b+ 
 8901 mi        20   0 1700260  63280  40968 S  13.4  0.8   0:44.63 app_server  
 9701 mi        20   0  151660   2816   2300 S  10.7  0.0   0:34.47 lcm-logger  
 8882 mi        20   0 1621396  46020  27824 S   9.4  0.6   0:35.14 cyberdog_m+ 
 5256 root      20   0  544904  19992  14420 R   9.1  0.3   0:15.56 NetworkMan+ 
11155 mi        20   0  930368  37428  22820 S   7.8  0.5   0:21.54 cyberdog_e+ 
 8137 mi        20   0  446884  41580  30912 R   5.2  0.5   0:03.16 nm-applet   
 8870 mi        20   0 2210976  66496  38380 S   4.9  0.8   0:25.22 cyberdog_a+ 
 8899 mi        20   0  786380  37776  24652 S   4.9  0.5   0:22.31 odom_out_p+ 
 1135 root     -51   0       0      0      0 S   3.9  0.0   0:00.94 irq/68-hos+ 
 8976 mi        20   0  929924  37200  22128 S   3.6  0.5   0:18.41 cyberdog_i+ 
mi@mi-desktop:~$ 

^Cmi@mi-desktop:~$ lscpu
Architecture:        aarch64
Byte Order:          Little Endian
CPU(s):              6
On-line CPU(s) list: 0-5
Thread(s) per core:  1
Core(s) per socket:  2
Socket(s):           3
Vendor ID:           Nvidia
Model:               0
Model name:          ARMv8 Processor rev 0 (v8l)
Stepping:            0x0
CPU max MHz:         1907.2000
CPU min MHz:         115.2000
BogoMIPS:            62.50
L1d cache:           64K
L1i cache:           128K
L2 cache:            2048K
L3 cache:            4096K
Flags:               fp asimd evtstrm aes pmull sha1 sha2 crc32 atomics fphp asimdhp
mi@mi-desktop:~$ 


打开rgb节点，但不开相机流的情况下，打开AI相机

(NvOdmDevice) Error InvalidState:  (propagating from dvs/git/dirty/git-master_linux/camera-partner/imager/src/devices/V4L2SensorViCsi.cpp, function apply(), line 206)


right_head:
  header:
    stamp:
      sec: 1755328671
      nanosec: 803677976
    frame_id: right_head
  data_available: true
  tof_position: 1
  data:
  - 0.16200000047683716
  - 0.17600001394748688
  - 0.17800000309944153
  - 0.18800000846385956
  - 0.1900000125169754
  - 0.1980000138282776
  - 0.20000000298023224
  - 0.20800000429153442
  - 0.17800000309944153
  - 0.18400001525878906
  - 0.1860000044107437
  - 0.19200000166893005
  - 0.1980000138282776
  - 0.20200000703334808
  - 0.21000000834465027
  - 0.2160000056028366
  - 0.18400001525878906
  - 0.18800000846385956
  - 0.19600000977516174
  - 0.1980000138282776
  - 0.20600001513957977
  - 0.20600001513957977
  - 0.2120000123977661
  - 0.2200000137090683
  - 0.18800000846385956
  - 0.19600000977516174
  - 0.20000000298023224
  - 0.20400001108646393
  - 0.20800000429153442
  - 0.21800000965595245
  - 0.22200001776218414
  - 0.22800001502037048
  - 0.18800000846385956
  - 0.1980000138282776
  - 0.20400001108646393
  - 0.2120000123977661
  - 0.2200000137090683
  - 0.2200000137090683
  - 0.22800001502037048
  - 0.23200000822544098
  - 0.1980000138282776
  - 0.20000000298023224
  - 0.21000000834465027
  - 0.2160000056028366
  - 0.2240000069141388
  - 0.22600001096725464
  - 0.23600001633167267
  - 0.24000000953674316
  - 0.1940000057220459
  - 0.20600001513957977
  - 0.21800000965595245
  - 0.22200001776218414
  - 0.22600001096725464
  - 0.23200000822544098
  - 0.242000013589859
  - 0.25200000405311584
  - 0.1900000125169754
  - 0.21000000834465027
  - 0.22600001096725464
  - 0.22600001096725464
  - 0.23200000822544098
  - 0.242000013589859
  - 0.24800001084804535
  - 0.26600000262260437
  intensity:
  - 0.0
  - 1.0
  - 1.0
  - 1.0
  - 0.0
  - 0.0
  - 0.0
  - 0.0
  - 0.0
  - 1.0
  - 1.0
  - 0.0
  - 0.0
  - 0.0
  - 0.0
  - 0.0
  - 1.0
  - 1.0
  - 1.0
  - 0.0
  - 0.0
  - 0.0
  - 0.0



right_head:
  header:
    stamp:
      sec: 1755328760
      nanosec: 146816424
    frame_id: right_head
  data_available: true
  tof_position: 1
  data:
  - 0.07400000095367432
  - 0.07000000029802322
  - 0.07800000160932541
  - 0.0820000022649765
  - 0.08000000566244125
  - 0.0860000029206276
  - 0.08800000697374344
  - 0.0860000029206276
  - 0.07400000095367432
  - 0.07400000095367432
  - 0.07600000500679016
  - 0.08000000566244125
  - 0.0860000029206276
  - 0.0820000022649765
  - 0.09000000357627869
  - 0.09000000357627869
  - 0.07800000160932541
  - 0.07400000095367432
  - 0.07600000500679016
  - 0.08000000566244125
  - 0.0860000029206276
  - 0.09000000357627869
  - 0.09200000762939453
  - 0.09200000762939453
  - 0.07800000160932541
  - 0.07600000500679016
  - 0.07800000160932541
  - 0.08000000566244125
  - 0.08800000697374344
  - 0.09000000357627869
  - 0.09200000762939453
  - 0.09400000423192978
  - 0.07800000160932541
  - 0.07600000500679016
  - 0.07400000095367432
  - 0.0820000022649765
  - 0.0860000029206276
  - 0.08800000697374344
  - 0.09200000762939453
  - 0.09600000083446503
  - 0.07800000160932541
  - 0.07600000500679016
  - 0.07600000500679016
  - 0.07800000160932541
  - 0.0820000022649765
  - 0.0860000029206276
  - 0.09000000357627869
  - 0.09400000423192978
  - 0.06800000369548798
  - 0.07000000029802322
  - 0.07400000095367432
  - 0.07600000500679016
  - 0.08000000566244125
  - 0.08400000631809235
  - 0.09000000357627869
  - 0.09200000762939453
  - 0.06599999964237213
  - 0.06800000369548798
  - 0.06800000369548798
  - 0.07000000029802322
  - 0.07400000095367432
  - 0.0820000022649765
  - 0.08800000697374344
  - 0.08800000697374344
  intensity:
  - 1.0
  - 5.0
  - 4.0
  - 4.0
  - 4.0
  - 3.0
  - 3.0
  - 3.0
  - 2.0
  - 5.0
  - 5.0
  - 4.0
  - 4.0
  - 4.0
  - 3.0
  - 2.0
  - 3.0
  - 5.0
  - 5.0
  - 4.0
  - 3.0
  - 3.0
  - 3.0
  - 2.0
  - 2.0
  - 4.0


ros2 topic info /image_rgb -v
Type: sensor_msgs/msg/Image

Publisher count: 1

Node name: stereo_camera
Node namespace: /
Topic type: sensor_msgs/msg/Image
Endpoint type: PUBLISHER
GID: 70.c5.10.01.36.04.4c.1d.52.93.08.58.00.00.20.03.00.00.00.00.00.00.00.00
QoS profile:
  Reliability: RELIABLE
  Durability: VOLATILE
  Lifespan: 9223372036854775807 nanoseconds
  Deadline: 9223372036854775807 nanoseconds
  Liveliness: AUTOMATIC
  Liveliness lease duration: 9223372036854775807 nanoseconds

Subscription count: 0

mi@mi-desktop:~$ 


[INFO] [1755332800.108660515] [yellow_marker_detector]: 📍 黄色标志物已消失! (TRACKING -> DISAPPEARED, 连续5帧未检测到)
[INFO] [1755332800.111445387] [yellow_marker_detector]: 🔄 状态变更: TRACKING -> DISAPPEARED (帧#63)
[INFO] [1755332800.114597941] [yellow_marker_detector]: 📍 黄色标志物消失! 连续5帧未检测到
[INFO] [1755332800.119646949] [yellow_marker_detector]: 📤 完成第一次发布距离"50"! 帧#63, 消失后0.0秒
[INFO] [1755332800.123417584] [yellow_marker_detector]: 🔄 状态转换: DISAPPEARED -> PUBLISHING
[INFO] [1755332800.160224130] [state_machine_node]: 检测到黄色标志物，距离: 50.0
[INFO] [1755332800.163199403] [state_machine_node]: 记录y1步数: 51
[INFO] [1755332800.167730873] [state_machine_node]: 运动控制定时器已停止
[状态机] 已清理状态 State.S2_TO_R1 的 1 个定时器
[状态机] 当前状态: 在R1点
[状态机] 启动节点: voice_node
[状态机] 节点 voice_node 启动成功 (PID: 24684)
[INFO] [1755332800.670017446] [yellow_marker_detector]: 📷 图像回调被调用 - 帧#91, 状态:PUBLISHING
[状态机] 停止节点: yellow_marker_detector (PID: 24528)
[状态机] 节点 yellow_marker_detector 已优雅关闭
[状态机] 在R1点，发布倒计时触发信号 (前一状态: S2_TO_R1)
[状态机] 已发布R1倒计时触发信号
[状态机] 前一状态为S2_TO_R1，下一状态将为R1_TO_QRB
[状态机] 创建状态绑定定时器: r1_voice_timeout -> State.IN_R1 (10.0s)
[INFO] [1755332800.762517027] [state_machine_node]: 检测到黄色标志物，距离: 50.0
[状态机] 当前状态 IN_R1 不支持黄色标志物检测，忽略检测结果: 50.0
[INFO] [1755332800.785098441] [state_machine_node]: 检测到黄色标志物，距离: 50.0
[状态机] 当前状态 IN_R1 不支持黄色标志物检测，忽略检测结果: 50.0
[INFO] [1755332800.800801050] [state_machine_node]: 检测到黄色标志物，距离: 50.0
[状态机] 当前状态 IN_R1 不支持黄色标志物检测，忽略检测结果: 50.0
[INFO] [1755332800.818176975] [state_machine_node]: 检测到黄色标志物，距离: 50.0
[状态机] 当前状态 IN_R1 不支持黄色标志物检测，忽略检测结果: 50.0
[INFO] [1755332800.837128810] [state_machine_node]: 检测到黄色标志物，距离: 50.0
[状态机] 当前状态 IN_R1 不支持黄色标志物检测，忽略检测结果: 50.0
[INFO] [1755332800.854404127] [state_machine_node]: 检测到黄色标志物，距离: 50.0
[状态机] 当前状态 IN_R1 不支持黄色标志物检测，忽略检测结果: 50.0
[INFO] [1755332804.247452673] [voice]: 语音播报节点已启动
[INFO] [1755332804.250708779] [voice]: 功能说明:
[INFO] [1755332804.255723898] [voice]:   1. 二维码内容播报（避免重复）
[INFO] [1755332804.260153224] [voice]:   2. 绿色箭头方向播报（全程只播报一次）
[INFO] [1755332804.271454571] [voice]:   3. 接收状态机触发信号进行R1倒计时（一次性，持续发送完成信号）
[INFO] [1755332804.284955253] [voice]: 订阅话题:
[INFO] [1755332804.290771046] [voice]:   - /qr_detector/qr_info (二维码)
[INFO] [1755332804.294076273] [voice]:   - /green_arrow_detector/direction (箭头)
[INFO] [1755332804.303144493] [voice]:   - /voice_node/countdown_trigger (倒计时触发信号)
[状态机] R1状态等待voice_node超时，强制转到下一状态
[状态机] 处理R1状态语音播报完成
[状态机] R1状态播报完成后，向前走12步，速度0.2
[INFO] [1755332810.711332931] [state_machine_node]: 使用自定义参数 count=12
[INFO] [1755332810.714346764] [state_machine_node]: 使用自定义参数 vel_des=[0.2, 0.0, 0.0]
[状态机] 开始运动: forward
[状态机] 参数: 频率=5.0Hz, 总次数=12, 类似: ros2 topic pub -r 5.0 -t 12
[状态机] 发送运动指令: forward (第 1/12 次)
[状态机] 创建状态绑定定时器: motion_control -> State.IN_R1 (0.2s)
[INFO] [1755332810.719198267] [state_machine_node]: 启动运动控制定时器: 周期=0.200s
[状态机] 创建状态绑定定时器: r1_forward_complete -> State.IN_R1 (3.0s)
[状态机] 发送运动指令: forward_until_yellow_marker (第 2/12 次)
[状态机] 发送运动指令: forward_until_yellow_marker (第 3/12 次)
[状态机] 发送运动指令: forward_until_yellow_marker (第 4/12 次)
[状态机] 发送运动指令: forward_until_yellow_marker (第 5/12 次)
[状态机] 发送运动指令: forward_until_yellow_marker (第 6/12 次)
[状态机] 发送运动指令: forward_until_yellow_marker (第 7/12 次)
[状态机] 发送运动指令: forward_until_yellow_marker (第 8/12 次)
[状态机] 发送运动指令: forward_until_yellow_marker (第 9/12 次)
[状态机] 发送运动指令: forward_until_yellow_marker (第 10/12 次)
[状态机] 发送运动指令: forward_until_yellow_marker (第 11/12 次)
[状态机] 发送运动指令: forward_until_yellow_marker (第 12/12 次)
[状态机] 运动 forward_until_yellow_marker 完成 (共发送 12 次)
[INFO] [1755332812.925571921] [state_machine_node]: 运动控制定时器已停止
[状态机] 运动 forward_until_yellow_marker 完成
[状态机] 未处理的运动序列完成状态: State.IN_R1
[状态机] 已清理状态 State.IN_R1 的 3 个定时器
[状态机] 当前状态: 错误
[状态机] 停止节点: voice_node (PID: 24684)
[状态机] 节点 voice_node 已优雅关闭
[状态机] 进入错误状态，急停运动
[调试] send_motion_command 调用 - movement_type: lie_down, custom_params: None
[状态机] 准备执行lie_down，先等待5秒让机器人稳定...
[状态机] 创建状态绑定定时器: lie_down_wait -> State.ERROR (5.0s)
[状态机] 清理所有节点和相机...
[状态机] 停止RGB相机系统...
[状态机] 停止相机节点: realsense (PID: 23808)
[状态机] 相机节点 realsense 已优雅关闭
[状态机] 停止相机节点: stereo_camera (PID: 23989)
[状态机] 相机节点 stereo_camera 已优雅关闭
[状态机] RGB相机系统已停止
[状态机] 停止AI相机系统...
[状态机] AI相机系统已停止
[状态机] 等待完成，现在执行lie_down
[状态机] 开始服务调用运动: lie_down
[状态机] 调用运动服务: motion_id=101, duration=0s
[相机监控] 当前模式: none, 状态: {}
[状态机] 运动服务调用完成: protocol.srv.MotionResultCmd_Response(motion_id=101, result=True, code=0)
[状态机] lie_down动作完成，等待10秒...
[状态机] 创建状态绑定定时器: lie_down_final -> State.ERROR (10.0s)
[状态机] 等待完成，现在执行lie_down
[状态机] lie_down已在执行或等待中，跳过重复执行
[状态机] 等待完成，现在执行lie_down
[状态机] lie_down已在执行或等待中，跳过重复执行
[状态机] lie_down等待10秒完成，继续执行
[状态机] 未处理的运动序列完成状态: State.ERROR
[状态机] 等待完成，现在执行lie_down
[状态机] 开始服务调用运动: lie_down
[状态机] 调用运动服务: motion_id=101, duration=0s
[状态机] 运动服务调用完成: protocol.srv.MotionResultCmd_Response(motion_id=101, result=True, code=0)
[状态机] lie_down动作完成，等待10秒...
[状态机] 替换已存在的状态定时器: lie_down_final -> State.ERROR
[状态机] 创建状态绑定定时器: lie_down_final -> State.ERROR (10.0s)
^C[状态机] 正在关闭，清理所有资源...
[状态机] 已清理状态 State.ERROR 的 2 个定时器
[状态机] 已清理所有 2 个定时器
[状态机] 清理所有节点和相机...
[状态机] 停止RGB相机系统...
[状态机] RGB相机系统已停止
[状态机] 停止AI相机系统...
[状态机] AI相机系统已停止
mi@mi-desktop:~/yellow_line_ws$ 

[INFO] [1755332800.108660515] [yellow_marker_detector]: 📍 黄色标志物已消失! (TRACKING -> DISAPPEARED, 连续5帧未检测到)
[INFO] [1755332800.111445387] [yellow_marker_detector]: 🔄 状态变更: TRACKING -> DISAPPEARED (帧#63)
[INFO] [1755332800.114597941] [yellow_marker_detector]: 📍 黄色标志物消失! 连续5帧未检测到
[INFO] [1755332800.119646949] [yellow_marker_detector]: 📤 完成第一次发布距离"50"! 帧#63, 消失后0.0秒
[INFO] [1755332800.123417584] [yellow_marker_detector]: 🔄 状态转换: DISAPPEARED -> PUBLISHING
[INFO] [1755332800.160224130] [state_machine_node]: 检测到黄色标志物，距离: 50.0
[INFO] [1755332800.163199403] [state_machine_node]: 记录y1步数: 51
[INFO] [1755332800.167730873] [state_machine_node]: 运动控制定时器已停止
[状态机] 已清理状态 State.S2_TO_R1 的 1 个定时器
[状态机] 当前状态: 在R1点
[状态机] 启动节点: voice_node
[状态机] 节点 voice_node 启动成功 (PID: 24684)
[INFO] [1755332800.670017446] [yellow_marker_detector]: 📷 图像回调被调用 - 帧#91, 状态:PUBLISHING
[状态机] 停止节点: yellow_marker_detector (PID: 24528)
[状态机] 节点 yellow_marker_detector 已优雅关闭
[状态机] 在R1点，发布倒计时触发信号 (前一状态: S2_TO_R1)
[状态机] 已发布R1倒计时触发信号
[状态机] 前一状态为S2_TO_R1，下一状态将为R1_TO_QRB
[状态机] 创建状态绑定定时器: r1_voice_timeout -> State.IN_R1 (10.0s)
[INFO] [1755332800.762517027] [state_machine_node]: 检测到黄色标志物，距离: 50.0
[状态机] 当前状态 IN_R1 不支持黄色标志物检测，忽略检测结果: 50.0
[INFO] [1755332800.785098441] [state_machine_node]: 检测到黄色标志物，距离: 50.0
[状态机] 当前状态 IN_R1 不支持黄色标志物检测，忽略检测结果: 50.0
[INFO] [1755332800.800801050] [state_machine_node]: 检测到黄色标志物，距离: 50.0
[状态机] 当前状态 IN_R1 不支持黄色标志物检测，忽略检测结果: 50.0
[INFO] [1755332800.818176975] [state_machine_node]: 检测到黄色标志物，距离: 50.0
[状态机] 当前状态 IN_R1 不支持黄色标志物检测，忽略检测结果: 50.0
[INFO] [1755332800.837128810] [state_machine_node]: 检测到黄色标志物，距离: 50.0
[状态机] 当前状态 IN_R1 不支持黄色标志物检测，忽略检测结果: 50.0
[INFO] [1755332800.854404127] [state_machine_node]: 检测到黄色标志物，距离: 50.0
[状态机] 当前状态 IN_R1 不支持黄色标志物检测，忽略检测结果: 50.0
[INFO] [1755332804.247452673] [voice]: 语音播报节点已启动
[INFO] [1755332804.250708779] [voice]: 功能说明:
[INFO] [1755332804.255723898] [voice]:   1. 二维码内容播报（避免重复）
[INFO] [1755332804.260153224] [voice]:   2. 绿色箭头方向播报（全程只播报一次）
[INFO] [1755332804.271454571] [voice]:   3. 接收状态机触发信号进行R1倒计时（一次性，持续发送完成信号）
[INFO] [1755332804.284955253] [voice]: 订阅话题:
[INFO] [1755332804.290771046] [voice]:   - /qr_detector/qr_info (二维码)
[INFO] [1755332804.294076273] [voice]:   - /green_arrow_detector/direction (箭头)
[INFO] [1755332804.303144493] [voice]:   - /voice_node/countdown_trigger (倒计时触发信号)
[状态机] R1状态等待voice_node超时，强制转到下一状态
[状态机] 处理R1状态语音播报完成
[状态机] R1状态播报完成后，向前走12步，速度0.2
[INFO] [1755332810.711332931] [state_machine_node]: 使用自定义参数 count=12
[INFO] [1755332810.714346764] [state_machine_node]: 使用自定义参数 vel_des=[0.2, 0.0, 0.0]
[状态机] 开始运动: forward
[状态机] 参数: 频率=5.0Hz, 总次数=12, 类似: ros2 topic pub -r 5.0 -t 12
[状态机] 发送运动指令: forward (第 1/12 次)
[状态机] 创建状态绑定定时器: motion_control -> State.IN_R1 (0.2s)
[INFO] [1755332810.719198267] [state_machine_node]: 启动运动控制定时器: 周期=0.200s
[状态机] 创建状态绑定定时器: r1_forward_complete -> State.IN_R1 (3.0s)
[状态机] 发送运动指令: forward_until_yellow_marker (第 2/12 次)
[状态机] 发送运动指令: forward_until_yellow_marker (第 3/12 次)
[状态机] 发送运动指令: forward_until_yellow_marker (第 4/12 次)
[状态机] 发送运动指令: forward_until_yellow_marker (第 5/12 次)
[状态机] 发送运动指令: forward_until_yellow_marker (第 6/12 次)
[状态机] 发送运动指令: forward_until_yellow_marker (第 7/12 次)
[状态机] 发送运动指令: forward_until_yellow_marker (第 8/12 次)
[状态机] 发送运动指令: forward_until_yellow_marker (第 9/12 次)
[状态机] 发送运动指令: forward_until_yellow_marker (第 10/12 次)
[状态机] 发送运动指令: forward_until_yellow_marker (第 11/12 次)
[状态机] 发送运动指令: forward_until_yellow_marker (第 12/12 次)
[状态机] 运动 forward_until_yellow_marker 完成 (共发送 12 次)
[INFO] [1755332812.925571921] [state_machine_node]: 运动控制定时器已停止
[状态机] 运动 forward_until_yellow_marker 完成
[状态机] 未处理的运动序列完成状态: State.IN_R1
[状态机] 已清理状态 State.IN_R1 的 3 个定时器
[状态机] 当前状态: 错误
[状态机] 停止节点: voice_node (PID: 24684)
[状态机] 节点 voice_node 已优雅关闭
[状态机] 进入错误状态，急停运动
[调试] send_motion_command 调用 - movement_type: lie_down, custom_params: None
[状态机] 准备执行lie_down，先等待5秒让机器人稳定...
[状态机] 创建状态绑定定时器: lie_down_wait -> State.ERROR (5.0s)
[状态机] 清理所有节点和相机...
[状态机] 停止RGB相机系统...
[状态机] 停止相机节点: realsense (PID: 23808)
[状态机] 相机节点 realsense 已优雅关闭
[状态机] 停止相机节点: stereo_camera (PID: 23989)
[状态机] 相机节点 stereo_camera 已优雅关闭
[状态机] RGB相机系统已停止
[状态机] 停止AI相机系统...
[状态机] AI相机系统已停止
[状态机] 等待完成，现在执行lie_down
[状态机] 开始服务调用运动: lie_down
[状态机] 调用运动服务: motion_id=101, duration=0s
[相机监控] 当前模式: none, 状态: {}
[状态机] 运动服务调用完成: protocol.srv.MotionResultCmd_Response(motion_id=101, result=True, code=0)
[状态机] lie_down动作完成，等待10秒...
[状态机] 创建状态绑定定时器: lie_down_final -> State.ERROR (10.0s)
[状态机] 等待完成，现在执行lie_down
[状态机] lie_down已在执行或等待中，跳过重复执行
[状态机] 等待完成，现在执行lie_down
[状态机] lie_down已在执行或等待中，跳过重复执行
[状态机] lie_down等待10秒完成，继续执行
[状态机] 未处理的运动序列完成状态: State.ERROR
[状态机] 等待完成，现在执行lie_down
[状态机] 开始服务调用运动: lie_down
[状态机] 调用运动服务: motion_id=101, duration=0s
[状态机] 运动服务调用完成: protocol.srv.MotionResultCmd_Response(motion_id=101, result=True, code=0)
[状态机] lie_down动作完成，等待10秒...
[状态机] 替换已存在的状态定时器: lie_down_final -> State.ERROR
[状态机] 创建状态绑定定时器: lie_down_final -> State.ERROR (10.0s)
^C[状态机] 正在关闭，清理所有资源...
[状态机] 已清理状态 State.ERROR 的 2 个定时器
[状态机] 已清理所有 2 个定时器
[状态机] 清理所有节点和相机...
[状态机] 停止RGB相机系统...
[状态机] RGB相机系统已停止
[状态机] 停止AI相机系统...
[状态机] AI相机系统已停止
mi@mi-desktop:~/yellow_line_ws$ 

