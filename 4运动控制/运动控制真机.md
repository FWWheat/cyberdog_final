- source /opt/ros2/galactic/setup.bash 

ros2 topic pub  -r 5  -t 10 /mi_desktop_48_b0_2d_7b_03_d0/motion_servo_cmd protocol/msg/MotionServoCmd "{
  motion_id: 303,
  cmd_type: 1,
  cmd_source: 4,
  value: 0,
  vel_des: [0.4, 0.0, 0],
  rpy_des: [0.0, 0.0, 0.0],
  pos_des: [0.0, 0.0, 0.0],
  acc_des: [0.0, 0.0, 0.0],
  ctrl_point: [0.0, 0.0, 0.0],
  foot_pose: [0.0, 0.0, 0.0],
  step_height: [0.05, 0.05]
}" 

ros2 topic pub  -r 5  -t 11 /mi_desktop_48_b0_2d_7b_03_d0/motion_servo_cmd protocol/msg/MotionServoCmd "{
  motion_id: 303,
  cmd_type: 1,
  cmd_source: 4,
  value: 0,
  vel_des: [0, 0.0, -0.9],
  rpy_des: [0.0, 0.0, 0.0],
  pos_des: [0.0, 0.0, 0.0],
  acc_des: [0.0, 0.0, 0.0],
  ctrl_point: [0.0, 0.0, 0.0],
  foot_pose: [0.0, 0.0, 0.0],
  step_height: [0.05, 0.05]
}" 

ros2 topic pub  -r 5  -t 23 /mi_desktop_48_b0_2d_7b_03_d0/motion_servo_cmd protocol/msg/MotionServoCmd "{
  motion_id: 303,
  cmd_type: 1,
  cmd_source: 4,
  value: 0,
  vel_des: [0.4, 0.0, 0],
  rpy_des: [0.0, 0.0, 0.0],
  pos_des: [0.0, 0.0, 0.0],
  acc_des: [0.0, 0.0, 0.0],
  ctrl_point: [0.0, 0.0, 0.0],
  foot_pose: [0.0, 0.0, 0.0],
  step_height: [0.05, 0.05]
}" 

ros2 topic pub  -r 5 -t 22 /mi_desktop_48_b0_2d_7b_03_d0/motion_servo_cmd protocol/msg/MotionServoCmd "{
  motion_id: 303,
  cmd_type: 1,
  cmd_source: 4,
  value: 0,
  vel_des: [0.0, -0.3, 0],
  rpy_des: [0.0, 0.0, 0.0],
  pos_des: [0.0, 0.0, 0.0],
  acc_des: [0.0, 0.0, 0.0],
  ctrl_point: [0.0, 0.0, 0.0],
  foot_pose: [0.0, 0.0, 0.0],
  step_height: [0.05, 0.05]
}" 

# 原地踏步
ros2 topic pub  -1 /mi_desktop_48_b0_2d_7b_03_d0/motion_servo_cmd protocol/msg/MotionServoCmd "{
  motion_id: 303,
  cmd_type: 1,
  cmd_source: 4,
  value: 0,
  vel_des: [0, 0.0, 0],
  rpy_des: [0.0, 0.0, 0.0],
  pos_des: [0.0, 0.0, 0.0],
  acc_des: [0.0, 0.0, 0.0],
  ctrl_point: [0.0, 0.0, 0.0],
  foot_pose: [0.0, 0.0, 0.0],
  step_height: [0.05, 0.05]
}" 




# 站立
ros2 service call /mi_desktop_48_b0_2d_7b_03_d0/motion_result_cmd protocol/srv/MotionResultCmd "{
  motion_id: 111,
  cmd_source: 4,
  vel_des: [0.0, 0.0, 0.0],
  rpy_des: [0.0, 0.0, 0.0],
  pos_des: [0.0, 0.0, 0.0],
  acc_des: [0.0, 0.0, 0.0],
  ctrl_point: [0.0, 0.0, 0.0],
  foot_pose: [0.0, 0.0, 0.0],
  step_height: [0.05, 0.05],
  duration: 0
}"


# 高阻尼趴下
ros2 service call /mi_desktop_48_b0_2d_7b_03_d0/motion_result_cmd protocol/srv/MotionResultCmd "{
  motion_id: 101,
  cmd_source: 4,
  vel_des: [0.0, 0.0, 0.0],
  rpy_des: [0.0, 0.0, 0.0],
  pos_des: [0.0, 0.0, 0.0],
  acc_des: [0.0, 0.0, 0.0],
  ctrl_point: [0.0, 0.0, 0.0],
  foot_pose: [0.0, 0.0, 0.0],
  step_height: [0.05, 0.05],
  duration: 0
}"

# 急停
ros2 service call /mi_desktop_48_b0_2d_7b_03_d0/motion_result_cmd protocol/srv/MotionResultCmd "{
  motion_id: 0,
  cmd_source: 4,
  vel_des: [0.0, 0.0, 0.0],
  rpy_des: [0.0, 0.0, 0.0],
  pos_des: [0.0, 0.0, 0.0],
  acc_des: [0.0, 0.0, 0.0],
  ctrl_point: [0.0, 0.0, 0.0],
  foot_pose: [0.0, 0.0, 0.0],
  step_height: [0.05, 0.05],
  duration: 0
}"


# 运动功能
伺服指令下发
具体功能：持续接受运动指令完成相关的动作，可以动态响应速度、步态等参数，包括以下动作：
以慢频步态行走（最大纵向速度0.65（单位m/s，下同），最大横移速度0.3，最大角速度1.25（单位rad/s，下同））
以中频步态行走（最大纵向速度1.0，最大横移速度0.3， 最大角速度1.25）
以快速步态行走（最大纵向速度1.6，最大横移速度0.55， 最大角速度2.5）
以四足同时离地的步态行走（最大纵向速度0.25，最大横移速度0.1， 最大角速度0.5）
以前后足交替离地的步态行走（最大纵向速度0.4，最大横移速度0.3， 最大角速度0.75）
motion_id	动作名称	motion_id	动作名称	motion_id	动作名称
303	慢速行走	308	中速行走	305	快速行走
301	前后跳	302	四足小跳		
接口形式：ros topic
接口名字："motion_servo_cmd"
消息文件：protocol/msg/MotionServoCmd.msg
消息内容：
int32         motion_id    # 机器人运控姿态

int32         cmd_type     # 指令类型约束, 1: Data, 2: End；

                           # Data帧根据控制需求写入以下参数，End帧无需填写参数

int32         cmd_source   # 指令来源，

                           # 0：App, 1: Audio, 2: Vis，3: BluTele 4: Algo

int32         value        # 0, 内八步态， 2，垂直步态

float32[3]    vel_des      # x y(最大值1.5） yaw（最大值2.0） speed  m/s

float32[3]    rpy_des      # 当前暂不开放。roll pitch yaw（最大值0.4）  rad

float32[3]    pos_des      # 当前暂不开放。x y（最大值0.2）z（最大值0.3)  m

float32[3]    acc_des      # 当前暂不开放。acc for jump m^2/s

float32[3]    ctrl_point   # 当前暂不开放。pose ctrl point  m

float32[3]    foot_pose    # 当前暂不开放。front/back foot pose x,y,z  m

float32[2]    step_height  # 行走时的抬腿高度，默认可按0.05m设定


# 结果指令
具体功能：以客户端/服务端的形式，接受运动指令，完成预置的所有动作，能够返回所有动作的执行结果，并上报所有的异常原因，包括电机异常、状态机异常、运控异常等。同时还可以在可视化编程中由用户自定义动作，目前放开的自定义参数较为有限，包含落足点位置、足腿的腾空时间、机器狗的整体速度等参数。动作完成定义后，即可与内置动作采用相同的接口在可视化编程中实现调用。内置动作包括：
motion_id	动作名称	motion_id	动作名称	motion_id	动作名称
0	急停	131	3D跳跃右转90度	144	屁股画圆
101	高阻尼趴下	132	3D跳跃前跳60cm	145	头画圆
111	恢复站立	134	3D跳跃左跳20cm	146	伸展身体
118	强化起身	135	3D跳跃右跳20cm	151	芭蕾舞
121	后空翻	140	舞蹈集合	152	太空步
123	作揖	141	握左手	174	俯卧撑
125	遛狗	142	握右手	175	作揖比心
130	3D跳跃左转90度	143	坐下		
接口形式：ros service
接口名字："motion_result_cmd"
服务文件：protocol/srv/MotionResultCmd.srv
服务内容：
int32         motion_id    # 机器人运控姿态

int32         cmd_source   # 指令来源，

                           # 0：App, 1: Audio, 2: Vis， 3: BluTele 4: Algo

float32[3]    vel_des      # 当前暂不开放。x y(最大值1.5，m/s） yaw（最大值2.0，rad/s）

float32[3]    rpy_des      # roll pitch yaw（最大值0.4）rad

float32[3]    pos_des      # x y（最大值0.2）z（最大值0.3) m

float32[3]    acc_des      # 当前暂不开放。acc for jump m^2/s

float32[3]    ctrl_point   # 当前暂不开放。pose ctrl point  m

float32[3]    foot_pose    # 当前暂不开放。front/back foot pose x,y,z  m

float32[2]    step_height  # 抬腿高度，当前可按0.05m设定

int32         duration     # 进行增量位控和增量力控、绝对量力控姿态控制时设定的期望

                           # 完成时间

---

int32         motion_id    # 机器人运控姿态

bool          result       # 执行结果

int32         code         # module code